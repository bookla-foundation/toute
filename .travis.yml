language: python
matrix:
  include:
    - python: 3.5
    - python: 3.6
    - python: 3.7
    - python: 3.8
before_install:
  - curl -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.7.0-amd64.deb && sudo dpkg -i --force-confnew elasticsearch-7.7.0-amd64.deb
before_script:
  - sleep 10
install:
  - pip install pipenv
  - pipenv install --dev --system
script: make test
after_success:
  - coveralls
deploy:
  provider: pypi
  username: "omar.s"
  password: "pypi-AgEIcHlwaS5vcmcCJGFmMWIwODNmLTQ4ZDktNGEyZi04ZjA2LTA2YTI3ZGRmNzJlZgACJXsicGVybWlzc2lvbnMiOiAidXNlciIsICJ2ZXJzaW9uIjogMX0AAAYgM2o3jc_1gX3WtjSyxX-bPsgDlpt7kZlg5be6ixbFV9Y"
